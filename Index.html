<!-- index.html -->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Hana Study Hub</title>
  <style>
    :root{
      --bg:#0b0f1a;
      --card:#121a2b;
      --card2:#0f1626;
      --text:#e8eefc;
      --muted:#a9b4d0;
      --line:#26314d;
      --accent:#7dd3fc;
      --accent2:#a78bfa;
      --ok:#34d399;
      --warn:#fbbf24;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      background: radial-gradient(1200px 700px at 20% 10%, rgba(125,211,252,.10), transparent 60%),
                  radial-gradient(900px 600px at 80% 20%, rgba(167,139,250,.10), transparent 60%),
                  var(--bg);
      color:var(--text);
      padding-bottom:72px;
    }
    header{
      position:sticky;
      top:0;
      z-index:10;
      backdrop-filter: blur(10px);
      background: rgba(11,15,26,.65);
      border-bottom:1px solid rgba(38,49,77,.65);
    }
    .wrap{max-width:1100px;margin:0 auto;padding:18px 16px}
    .title{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:12px;
      flex-wrap:wrap;
    }
    h1{
      margin:0;
      font-size:18px;
      letter-spacing:.2px;
      font-weight:800;
    }
    .sub{
      margin-top:6px;
      font-size:13px;
      color:var(--muted);
      line-height:1.35;
    }
    .pill{
      display:inline-flex;
      gap:8px;
      align-items:center;
      padding:8px 10px;
      border:1px solid rgba(38,49,77,.75);
      border-radius:999px;
      color:var(--muted);
      background: rgba(18,26,43,.65);
      font-size:12px;
      white-space:nowrap;
    }
    main{max-width:1100px;margin:0 auto;padding:18px 16px}
    .grid{
      display:grid;
      grid-template-columns: repeat(12, 1fr);
      gap:14px;
    }
    .card{
      grid-column: span 12;
      background: linear-gradient(180deg, rgba(18,26,43,.90), rgba(15,22,38,.90));
      border:1px solid rgba(38,49,77,.85);
      border-radius:18px;
      overflow:hidden;
      box-shadow: 0 18px 50px rgba(0,0,0,.35);
    }
    @media (min-width: 760px){
      .card{grid-column: span 6;}
    }
    .cardTop{
      padding:16px 16px 10px 16px;
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:10px;
    }
    .cardTitle{
      margin:0;
      font-size:16px;
      font-weight:850;
      letter-spacing:.2px;
    }
    .cardMeta{
      margin-top:6px;
      color:var(--muted);
      font-size:13px;
      line-height:1.35;
    }
    .tags{
      display:flex;
      flex-wrap:wrap;
      gap:8px;
      padding:0 16px 14px 16px;
    }
    .tag{
      font-size:12px;
      color:rgba(232,238,252,.92);
      padding:6px 10px;
      border-radius:999px;
      border:1px solid rgba(38,49,77,.85);
      background: rgba(11,15,26,.45);
    }
    .actions{
      display:flex;
      gap:10px;
      padding:12px 16px 16px 16px;
      border-top:1px solid rgba(38,49,77,.65);
      flex-wrap:wrap;
    }
    .btn{
      appearance:none;
      border:1px solid rgba(38,49,77,.85);
      background: rgba(11,15,26,.55);
      color:var(--text);
      padding:10px 12px;
      border-radius:12px;
      cursor:pointer;
      font-weight:750;
      font-size:13px;
      letter-spacing:.2px;
      transition: transform .05s ease, background .15s ease, border-color .15s ease;
      user-select:none;
    }
    .btn:active{transform: translateY(1px)}
    .btn.primary{
      background: rgba(125,211,252,.14);
      border-color: rgba(125,211,252,.35);
    }
    .btn.secondary{
      background: rgba(167,139,250,.14);
      border-color: rgba(167,139,250,.35);
    }
    .btn:hover{background: rgba(255,255,255,.06)}
    .btn.primary:hover{background: rgba(125,211,252,.20)}
    .btn.secondary:hover{background: rgba(167,139,250,.20)}
    footer{
      position:fixed;
      left:0; right:0; bottom:0;
      height:56px;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:0 12px;
      background: rgba(11,15,26,.78);
      backdrop-filter: blur(10px);
      border-top:1px solid rgba(38,49,77,.70);
      color:var(--muted);
      font-size:12px;
      z-index:50;
      text-align:center;
    }
    .smallNote{
      color:var(--muted);
      font-size:12px;
      line-height:1.4;
      margin:0 0 12px 0;
    }
    .row{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
      justify-content:space-between;
      margin-bottom:12px;
    }
    .searchBox{
      display:flex;
      gap:10px;
      align-items:center;
      flex: 1 1 360px;
      min-width: 260px;
    }
    input[type="search"]{
      width:100%;
      padding:10px 12px;
      border-radius:12px;
      border:1px solid rgba(38,49,77,.85);
      background: rgba(11,15,26,.55);
      color:var(--text);
      outline:none;
      font-size:13px;
    }
    input[type="search"]::placeholder{color: rgba(169,180,208,.75)}
    .mutedRight{
      color:var(--muted);
      font-size:12px;
      white-space:nowrap;
    }
  </style>
</head>
<body>
  <header>
    <div class="wrap">
      <div class="title">
        <div>
          <h1>Prepared by Dr Ushana YALDA</h1>
          <div class="sub">Aimed for Dr. Hanaa</div>
        </div>
        <div class="pill" title="Local-only GitHub Pages site. No external libraries.">
          <span style="width:8px;height:8px;border-radius:50%;background:var(--ok);display:inline-block"></span>
          Offline ready
        </div>
      </div>
    </div>
  </header>

  <main>
    <div class="row">
      <p class="smallNote">
        Pick a topic card. Use Open Ignite for a rapid two page core. Use Open Master for full stations with escalating complexity.
      </p>
      <div class="mutedRight" id="topicCount"></div>
    </div>

    <div class="searchBox" style="margin-bottom:14px;">
      <input id="q" type="search" placeholder="Search topics..." aria-label="Search topics" />
      <button class="btn" id="clearBtn" type="button">Clear</button>
    </div>

    <div class="grid" id="topicGrid"></div>
  </main>

  <footer>Copyright and publishing rights: Dr Ushana YALDA</footer>

  <script>
    "use strict";

    // Shared schema used in all files
    const STUDY_DATA = {
      schemaVersion: "1.0",
      author: "Dr Ushana YALDA",
      audience: "Dr. Hanaa",
      topics: [
        {
          id: "knee_swelling",
          title: "Knee swelling",
          subtitle: "Acute hot swollen knee, traumatic effusion, chronic swelling patterns",
          tags: ["MSK", "ED", "Red flags", "Procedures"],
        },
        {
          id: "ankle_pain_swelling",
          title: "Ankle pain and swelling",
          subtitle: "Sprain vs fracture, Achilles issues, septic arthritis and gout traps",
          tags: ["MSK", "Sports", "Imaging", "Safety net"],
        }
      ]
    };

    const elGrid = document.getElementById("topicGrid");
    const elQ = document.getElementById("q");
    const elCount = document.getElementById("topicCount");
    const elClear = document.getElementById("clearBtn");

    function esc(s){
      return String(s)
        .replaceAll("&","&amp;")
        .replaceAll("<","&lt;")
        .replaceAll(">","&gt;")
        .replaceAll('"',"&quot;")
        .replaceAll("'","&#039;");
    }

    function cardHTML(t){
      const tags = (t.tags || []).map(x => `<span class="tag">${esc(x)}</span>`).join("");
      const igniteUrl = `ignite.html?topic=${encodeURIComponent(t.id)}`;
      const masterUrl = `master.html?topic=${encodeURIComponent(t.id)}`;
      return `
        <section class="card" data-id="${esc(t.id)}" data-text="${esc((t.title + " " + t.subtitle + " " + (t.tags||[]).join(" ")).toLowerCase())}">
          <div class="cardTop">
            <div>
              <h2 class="cardTitle">${esc(t.title)}</h2>
              <div class="cardMeta">${esc(t.subtitle)}</div>
            </div>
            <div class="pill" aria-hidden="true">
              <span style="width:8px;height:8px;border-radius:50%;background:var(--accent);display:inline-block"></span>
              Topic
            </div>
          </div>
          <div class="tags">${tags}</div>
          <div class="actions">
            <a class="btn primary" href="${igniteUrl}" role="button">Open Ignite</a>
            <a class="btn secondary" href="${masterUrl}" role="button">Open Master</a>
          </div>
        </section>
      `;
    }

    function render(){
      const q = (elQ.value || "").trim().toLowerCase();
      const topics = STUDY_DATA.topics.slice();
      const filtered = q
        ? topics.filter(t => (t.title + " " + t.subtitle + " " + (t.tags||[]).join(" ")).toLowerCase().includes(q))
        : topics;

      elGrid.innerHTML = filtered.map(cardHTML).join("");
      elCount.textContent = `${filtered.length} of ${topics.length} topics`;
    }

    elQ.addEventListener("input", render);
    elClear.addEventListener("click", () => { elQ.value = ""; render(); elQ.focus(); });

    render();
  </script>
</body>
</html>
